(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["AdminFilm"],{"61b7":function(t,e,a){"use strict";var r=a("d4d7"),o=a.n(r);o.a},8470:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"mt-3",attrs:{fluid:""}},[a("b-row",[a("b-col",{attrs:{cols:"auto"}},[a("div",{staticClass:"sidebar"},[a("b-list-group",[a("b-list-group-item",{attrs:{variant:0==t.active?"success":""},on:{click:function(e){t.active=0}}},[t._v("影片列表")]),a("b-list-group-item",{attrs:{variant:1==t.active?"success":""},on:{click:function(e){t.active=1}}},[t._v("新增影片")])],1)],1)]),a("b-col",{staticClass:"pl-0"},[a("b-card",{staticClass:"main",attrs:{"no-body":""}},[a("b-tabs",{attrs:{card:"",fixed:"","nav-wrapper-class":"d-none"},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("b-tab",[a("tabu-table")],1),a("b-tab",[a("add-film")],1)],1)],1)],1)],1)],1)},o=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"topbar mb-3"},[a("b-row",[a("b-col",{attrs:{cols:"auto"}},[a("fade-transition",{attrs:{duration:200}},[t.selected.length?t._e():a("b-input-group",{attrs:{prepend:"数据搜索"}},[a("b-form-select",{attrs:{options:t.options.search},model:{value:t.searchProp,callback:function(e){t.searchProp=e},expression:"searchProp"}}),a("b-form-input",{attrs:{placeholder:"输入搜索内容"}}),a("b-btn",{attrs:{slot:"append",text:"Button",variant:"success"},slot:"append"},[t._v("搜索")])],1)],1)],1),a("b-col"),a("fade-transition",{attrs:{duration:200}},[t.selected.length?a("b-col",{attrs:{cols:"auto"}},[a("b-btn",{staticClass:"mr-1",attrs:{text:"Button",variant:"danger"}},[t._v("删除选中 ("+t._s(t.selected.length)+")")]),a("b-btn",{attrs:{text:"Button",variant:"outline-secondary"},on:{click:t.handleDeselectAll}},[t._v("取消全选")])],1):t._e()],1)],1)],1),a("div",{ref:"table",staticClass:"table mb-0"})])},s=[],n=a("be94"),i=a("2f62"),c=a("39ab"),u=a.n(c),b=(a("7ab1"),{mounted:function(){var t=this;this.fetch(),this.tabulator=new u.a(this.$refs.table,{data:this.tableData,columns:[{title:"ID",field:"id",width:80,responsive:0,headerSort:!1},{title:"影片名",field:"name",width:200,responsive:0,headerSort:!1},{title:"副标题",field:"short",width:200,headerSort:!1},{title:"观看地址",field:"href",headerSort:!1}],height:"calc(100vh - 190px)",layout:"fitColumns",selectable:!0,responsiveLayout:"collapse",rowSelectionChanged:function(e){t.selected=e}})},data:function(){return{selected:[],options:{search:[{value:"name",text:"影片名"},{value:"short",text:"副标题"}]},searchProp:"name",tabulator:null}},computed:Object(n["a"])({},Object(i["c"])("admin/film",{tableData:"list"})),watch:{tableData:{handler:function(t){this.tabulator.replaceData(t)},deep:!0}},methods:Object(n["a"])({},Object(i["b"])("admin/film",["fetch"]),{handleDeselectAll:function(){this.tabulator.deselectRow()}})}),d=b,m=a("2877"),f=Object(m["a"])(d,l,s,!1,null,null,null);f.options.__file="TabuTable.vue";var h=f.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap"},[a("b-row",[a("b-col",{attrs:{cols:"auto"}},[t.form.cover.trim().length?a("b-card",{staticStyle:{width:"14rem"},attrs:{"no-body":"",header:"封面预览","img-src":t.form.cover,"img-bottom":""}}):a("b-card",{staticStyle:{width:"14rem"},attrs:{header:"封面预览","img-bottom":""}},[a("span",{staticClass:"text-muted"},[t._v("请先输入封面地址")])])],1),a("b-col",[a("b-form",{staticClass:"ml-5",on:{submit:t.onSubmit}},[a("b-form-group",{attrs:{label:"影片名:",horizontal:"","label-cols":"2"}},[a("b-form-input",{attrs:{required:"",maxlength:"512",placeholder:"请输入影片名"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("b-form-group",{attrs:{label:"副标题:",horizontal:"","label-cols":"2"}},[a("b-form-input",{attrs:{required:"",maxlength:"512",placeholder:"请输入副标题"},model:{value:t.form.short,callback:function(e){t.$set(t.form,"short",e)},expression:"form.short"}})],1),a("b-form-group",{attrs:{label:"观看地址:",horizontal:"","label-cols":"2"}},[a("b-form-input",{attrs:{required:"",maxlength:"1024",placeholder:"http 链接地址"},model:{value:t.form.href,callback:function(e){t.$set(t.form,"href",e)},expression:"form.href"}})],1),a("b-form-group",{attrs:{label:"封面地址:",horizontal:"","label-cols":"2"}},[a("b-form-input",{attrs:{required:"",maxlength:"1024",placeholder:"http 链接地址"},model:{value:t.form.cover,callback:function(e){t.$set(t.form,"cover",e)},expression:"form.cover"}})],1),a("b-row",[a("b-col",{attrs:{align:"center"}},[a("b-button",{staticClass:"mr-3 pl-5 pr-5",attrs:{type:"submit",variant:"success"}},[t._v("确认提交")])],1)],1)],1)],1)],1)],1)},v=[],g=(a("7f7f"),{data:function(){return{form:{name:"",short:"",href:"",cover:""}}},computed:{validated:function(){var t=this.form,e=t.name,a=t.short,r=t.href,o=t.cover;return[e,a,r,o].every(function(t){return t&&t.length&&t.trim().length})}},methods:{onSubmit:function(t){t.preventDefault(),alert(JSON.stringify(this.form))}}}),w=g,x=Object(m["a"])(w,p,v,!1,null,null,null);x.options.__file="AddFilm.vue";var _=x.exports,C={data:function(){return{active:0}},components:{TabuTable:h,AddFilm:_}},k=C,y=(a("61b7"),Object(m["a"])(k,r,o,!1,null,"41b47104",null));y.options.__file="index.vue";e["default"]=y.exports},d4d7:function(t,e,a){}}]);